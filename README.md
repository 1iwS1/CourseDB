# CourseDB
## Курсовая работа по предмету Базы данных

Улучшения:
 - разделить класс MainWindow и классы команд. Чтобы между ними был посредник (паттерн?) и их логика не была переплетена.
 - добавить к enum'ы базовый элемент "NONE". И, может, еще как улучшить их
 - вынести буквальную логику главного окна взаимодействия из MainWindow и оставить там только переключение элементов UI.
 - научиться применять DI (внедрение зависимостей)
 - разобраться в MVVM и добавить его
 - рефакторинг
 -! подумать про многопоточную модель
 -! перенести эту же работу с ADO.NET на ASP.NET

### Общая задача
Магазин занимается продажей со склада товаров оптом и в розницу. При этом менеджеры следят за тем, чтобы на складе постоянно были товары в наличии. Товары закупаются у посредника по установленной цене.
В дальнейшем магазин продает их по другой цене. Продажи записываются в журнал продаж, где отмечается дата продажи, количество проданного товара и цена за единицу.
Полученные от разницы в покупке и продаже товара деньги магазин тратит на различные статьи расхода. Данные о расходах отмечаются в журнале расходов и характеризуются датой, суммой и самой статьей расхода.
В частности, каждый месяц магазин выплачивает работникам зарплату

### Условия касательно базы данных
1.	Контроль целостности данных, используя механизм связей
2.	Операции модификации групп данных и данных в связанных таблицах должны быть выполнены в рамках транзакций.
3.	Логика работы приложения должна контролироваться триггерами. В частности, должны быть реализованы следующие ограничения:
 - Не позволяет добавить в таблицу товаров товар, у которой не задана сумма
 - Не позволяет добавлять расход, с суммой большей заданной
 - Не позволяет изменять данные в таблице продаж задним числом от сегодняшней даты
4.	Все операции вычисления различных показателей (из требований к клиентскому приложению) должны реализовываться хранимыми процедурами.

### Условия касательно клиентского приложения
1.	Необходимо реализовать интерфейсы для ввода, модификации и удаления справочников:
 - Товаров;
 - Статей расходов.
2.	В главном окне приложения должны быть реализованы интерфейсы:
 - Журнала продаж с возможностью задавать товар, дату продажи, количество и цену за единицу.
 - Журнал расходов с возможностью задавать дату, сумму и статью расхода.
3.	Необходимо реализовать возможность просмотра оператором следующих показателей:
 - Прибыль магазина за заданный месяц.
 - Пять самых доходных товаров за заданный интервал дат.
